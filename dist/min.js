var sinuousStyle=function(e,t,n){"use strict";const l=3,u=4,s=7;function o(e,t){return function(e,t){return e.push({type:8}),e.reduce((e,n)=>{let l=e[0],u=e[1];if(n.type===s)l.push(function(e,t){let n=0;for(;!"#.:[".includes(e[n])&&n!==e.length;)n++;return e.slice(0,n)+"."+t+e.slice(n)}(n.token,t));else if(6===n.type)u.push(l.join("")),u.push(n.token),l=[];else{if(8===n.type)return u.push(l.join("")),u;l.push(n.token)}return[l,u]},[[],[]])}(function(e){e=e.flatMap(e=>"string"==typeof e?e.split(""):e);let t,n,o,r=[],i=0,c=[];function p(){r.push({token:c.join(""),type:t}),t=void 0,c=[]}for(let f=0;f<e.length;f++)n=e[f],o=c.length,"function"==typeof n?(o&&p(),r.push({token:n,type:6})):i?(o||(t=1),c.push(n),"{"===n?i++:"}"===n&&(i--,i||p())):"{"===n?(o&&p(),i++,t=1,c.push(n)):","===n?(o&&t!==l&&p(),t=2,c.push(n),p()):">+~".includes(n)&&t!==s?o&&t!==l?(p(),r.push({token:n,type:5})):c.push(n):" \n\t\r".includes(n)?(o&&![u,l].includes(t)&&p(),t=u,c.push(n)):"@"===n?(o&&p(),t=l,c.push(n)):o?([s,l].includes(t)||(p(),t=s),c.push(n)):(t=s,c.push(n));return c.length&&p(),r}(e),t)}let r,i={},c=new Set([]);const p=(e,t)=>(...n)=>t(...e(...n));let f=t.api.h;t.api.h=p((function(...e){if("style"===e[0]&&e[1]&&(e[1].local||e[1].global)){let t=e[1],l=t.local,u=t.class;t.class=r+" "+(t.class||"");let s=(l?r+"-local":r+"-global")+(u?"-"+u:"");if(c.has(s)||h.querySelector("#"+s))return[];c.add(s),t.id=s;let i=l?o(e.slice(2),r):e.slice(2);return function(e){h.append(e)}(n.root(()=>f(e[0],t,...i))),[]}return y(...e)}),t.api.h),t.api.hs=p(y,t.api.hs);let h=document.querySelector("head");function a(e,t){let n=r;r=e;let l=t();return r=n,l}function y(...e){if("function"==typeof e[0]){let t=e[0].$s;for(let n=2;n<e.length;n++){let l=e[n];e[n]=()=>a(t,l)}}let t=e[1]||{},n=t.class||"",l=r||"";return t.class="function"==typeof n?()=>n()+" "+l:n+" "+l,e[1]=t,e}function d(e){return(...t)=>Array.isArray(t[0])?a("",()=>e(...t)):(...l)=>a(t.length?t[0]:r,()=>{for(let e of l)"function"==typeof e&&(e.$s=r);let t=r;return i[t]?i[t]++:i[t]=1,n.cleanup(()=>{--i[t]<1&&(delete i[t],function(e){for(let t of h.querySelectorAll("."+e))"STYLE"===t.nodeName&&(c.delete(t.id),t.remove())}(t))}),e(...l)})}const g=d(t.html),S=d(t.svg);return e.html=g,e.svg=S,e}({},S,S);