var sinuousStyle=function(e,t,n){"use strict";const l=e=>"function"==typeof e,u=3,s=4,r=7;function o(e,t){return function(e,t){return e.push({type:8}),e.reduce((e,n)=>{let l=e[0],u=e[1];if(n.type===r)l.push(function(e,t){let n=0;for(;!"#.:[".includes(e[n])&&n!==e.length;)n++;return e.slice(0,n)+"."+t+e.slice(n)}(n.token,t));else if(6===n.type)u.push(l.join("")),u.push(n.token),l=[];else{if(8===n.type)return u.push(l.join("")),u;l.push(n.token)}return[l,u]},[[],[]])}(function(e){e=e.flatMap(e=>"string"==typeof e?e.split(""):e);let t,n,o,i=[],c=0,p=[];function h(){i.push({token:p.join(""),type:t}),t=void 0,p=[]}for(let f=0;f<e.length;f++)n=e[f],o=p.length,l(n)?(o&&h(),i.push({token:n,type:6})):c?(o||(t=1),p.push(n),"{"===n?c++:"}"===n&&(c--,c||h())):"{"===n?(o&&h(),c++,t=1,p.push(n)):","===n?(o&&t!==u&&h(),t=2,p.push(n),h()):">+~".includes(n)&&t!==r?o&&t!==u?(h(),i.push({token:n,type:5})):p.push(n):" \n\t\r".includes(n)?(o&&![s,u].includes(t)&&h(),t=s,p.push(n)):"@"===n?(o&&h(),t=u,p.push(n)):o?([r,u].includes(t)||(h(),t=r),p.push(n)):(t=r,p.push(n));return p.length&&h(),i}(e),t)}let i,c={},p=new Set([]);const h=(e,t)=>(...n)=>t(...e(...n));let f=t.api.h;t.api.h=h((function(...e){if("style"===e[0]&&e[1]&&(e[1].local||e[1].global)){let t=e[1],l=t.local,u=t.class;t.class=i+" "+(t.class||"");let s=(l?i+"-local":i+"-global")+(u?"-"+u:"");if(p.has(s)||a.querySelector("#"+s))return[];p.add(s),t.id=s;let r=l?o(e.slice(2),i):e.slice(2);return function(e){a.append(e)}(n.root(()=>f(e[0],t,...r))),[]}return y(...e)}),t.api.h),t.api.hs=h(y,t.api.hs);let a=document.querySelector("head");function d(e,t){let n=i;i=e;let l=t();return i=n,l}function y(...e){if(l(e[0])){let t=e[0].$s;for(let n=2;n<e.length;n++)if(l(e[n])){let l=e[n];e[n]=()=>d(t,l)}}let t=e[1]||{},n=t.class||"",u=i||"";return t.class=l(n)?()=>n()+" "+u:n+" "+u,e[1]=t,e}function g(e){return(...t)=>Array.isArray(t[0])?d("",()=>e(...t)):(...u)=>d(t.length?t[0]:i,()=>{for(let e of u)l(e)&&(e.$s=i);let t=i;return c[t]?c[t]++:c[t]=1,n.cleanup(()=>{--c[t]<1&&(delete c[t],function(e){for(let t of a.querySelectorAll("."+e))"STYLE"===t.nodeName&&(p.delete(t.id),t.remove())}(t))}),e(...u)})}const S=g(t.html),k=g(t.svg);return e.html=S,e.svg=k,e}({},S,S);