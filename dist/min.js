var sinuousStyle=function(e,t,n){"use strict";const l=3,u=4,s=7;function i(e,t){return function(e,t){return e.push({type:8}),e.reduce((e,n)=>{let l=e[0],u=e[1];if(n.type===s)l.push(function(e,t){let n=0;for(;!"#.:[".includes(e[n])&&n!==e.length;)n++;return e.slice(0,n)+"."+t+e.slice(n)}(n.token,t));else if(6===n.type)u.push(l.join("")),u.push(n.token),l=[];else{if(8===n.type)return u.push(l.join("")),u;l.push(n.token)}return[l,u]},[[],[]])}(function(e){e=e.flatMap(e=>"string"==typeof e?e.split(""):e);let t,n,i,o=[],r=0,c=[];function p(){o.push({token:c.join(""),type:t}),t=void 0,c=[]}for(let h=0;h<e.length;h++)n=e[h],i=c.length,"function"==typeof n?(i&&p(),o.push({token:n,type:6})):r?(i||(t=1),c.push(n),"{"===n?r++:"}"===n&&(r--,r||p())):"{"===n?(i&&p(),r++,t=1,c.push(n)):","===n?(i&&t!==l&&p(),t=2,c.push(n),p()):">+~".includes(n)&&t!==s?i&&t!==l?(p(),o.push({token:n,type:5})):c.push(n):" \n\t\r".includes(n)?(i&&![u,l].includes(t)&&p(),t=u,c.push(n)):"@"===n?(i&&p(),t=l,c.push(n)):i?([s,l].includes(t)||(p(),t=s),c.push(n)):(t=s,c.push(n));return c.length&&p(),o}(e),t)}let o,r={},c=new Set([]);const p=(e,t)=>(...n)=>t(...e(...n));let h=t.api.h;t.api.h=p((function(...e){if("style"===e[0]&&e[1]&&(e[1].local||e[1].global)){let t=e[1],l=t.local,u=t.class;t.class=o+" "+(t.class||"");let s=(l?o+"-local":o+"-global")+(u?"-"+u:"");if(c.has(s)||f.querySelector("#"+s))return[];c.add(s),t.id=s;let r=l?i(e.slice(2),o):e.slice(2);return function(e){f.append(e)}(n.root(()=>h(e[0],t,...r))),[]}return d(...e)}),t.api.h),t.api.hs=p(d,t.api.hs);let f=document.querySelector("head");function a(e,t){let n=o;o=e;let l=t();return o=n,l}function d(...e){if(isFunction(e[0])){let t=e[0].$s;for(let n=2;n<e.length;n++)if(isFunction(e[n])){let l=e[n];e[n]=()=>a(t,l)}}let t=e[1]||{},n=t.class||"",l=o||"";return t.class=isFunction(n)?()=>n()+" "+l:n+" "+l,e[1]=t,e}function y(e){return(...t)=>Array.isArray(t[0])?a("",()=>e(...t)):(...l)=>a(t.length?t[0]:o,()=>{for(let e of l)isFunction(e)&&(e.$s=o);let t=o;return r[t]?r[t]++:r[t]=1,n.cleanup(()=>{--r[t]<1&&(delete r[t],function(e){for(let t of f.querySelectorAll("."+e))"STYLE"===t.nodeName&&(c.delete(t.id),t.remove())}(t))}),e(...l)})}const g=y(t.html),S=y(t.svg);return e.html=g,e.svg=S,e}({},S,S);